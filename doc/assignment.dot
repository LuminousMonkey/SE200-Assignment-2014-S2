digraph G {
        fontname = "Concourse T7";
        fontsize = 13;

        node [
             shape = "plaintext";
             margin = 0;
        ]

        subgraph cluster_hardware {
                 Comm [
                      label = <<table border="1" cellborder="0" cellspacing="0">
                                      <tr><td>Comm</td></tr>
                                      <hr/>
                                      <tr><td>+ send : String</td></tr>
                                      <tr><td># <i>receive : String</i></td></tr>
                               </table>>
        ]

                Driver [
                       label = <<table border="1" cellborder="0" cellspacing="0">
                                       <tr><td>Driver</td></tr>
                                       <hr/>
                                       <tr><td>+ drive(distance : double)</td></tr>
                                       <tr><td>+ turn(angle : double)</td></tr>
                                       <tr><td># <i>moveFinished()</i></td></tr>
                                       <tr><td># <i>mechanicalError()</i></td></tr>
                                </table>>

        ]

        SoilAnalyser [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>SoilAnalyser</td></tr>
                               <hr/>
                               <tr><td>+ analyse()</td></tr>
                               <tr><td># <i>analysisReady(soilAnalysis : String)</i></td></tr>
                        </table>>

        ]

        Camera [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>Camera</td></tr>
                               <hr/>
                               <tr><td>+ takePhoto()</td></tr>
                               <tr><td># <i>photoReady(photoData : char[])</i></td></tr>
                        </table>>

        ]

        RoverComm [
                label = <<table border="1" cellborder="0" cellspacing="0">
                                <tr><td>EarthComm</td></tr>
                                <hr/>
                                <tr><td>+ send : String</td></tr>
                                <tr><td># <i>receive : String</i></td></tr>
                         </table>>
        ]

        RoverDriver [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>RoverDriver</td></tr>
                               <hr/>
                               <tr><td>+ drive(distance : double)</td></tr>
                               <tr><td>+ turn(angle : double)</td></tr>
                               <tr><td># <i>moveFinished()</i></td></tr>
                               <tr><td># <i>mechanicalError()</i></td></tr>
                        </table>>

        ]

        RoverSoilAnalyser [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>RoverSoilAnalyser</td></tr>
                               <hr/>
                               <tr><td>+ analyse()</td></tr>
                               <tr><td># <i>analysisReady(soilAnalysis : String)</i></td></tr>
                        </table>>

        ]

        RoverCamera [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>RoverCamera</td></tr>
                               <hr/>
                               <tr><td>+ takePhoto()</td></tr>
                               <tr><td># <i>photoReady(photoData : char[])</i></td></tr>
                        </table>>

        ]
        }

subgraph cluster_task {
        Task [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>Task &lt;interface&gt;</td></tr>
                               <hr/>
                               <tr><td># <i>execute()</i></td></tr>
                        </table>>

        ]

        TaskList [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>TaskList</td></tr>
                               <hr/>
                               <tr><td> add(toAdd : Task)</td></tr>
                        </table>>

        ]


        MoveTask [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>MoveTask</td></tr>
                               <hr/>
                               <tr><td>+ execute()</td></tr>
                        </table>>

        ]

        TurnTask [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>TurnTask</td></tr>
                               <hr/>
                               <tr><td>+ execute()</td></tr>
                        </table>>

        ]

        AnalyserTask [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>AnalyserTask</td></tr>
                               <hr/>
                               <tr><td>+ execute()</td></tr>
                        </table>>

        ]

        CameraTask [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>CameraTask</td></tr>
                               <hr/>
                               <tr><td>+ execute()</td></tr>
                        </table>>

        ]

        ListExecuteTask [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>ListExecuteTask</td></tr>
                               <hr/>
                               <tr><td>+ execute()</td></tr>
                        </table>>

        ]

        TaskParser [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>TaskParser</td></tr>
                               <hr/>
                               <tr><td>+ parse()</td></tr>
                        </table>>

        ]

        TaskListManager [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>TaskListManager</td></tr>
                               <hr/>
                               <tr><td>+ parse()</td></tr>
                        </table>>

        ]
 }
        RoverController [
               label = <<table border="1" cellborder="0" cellspacing="0">
                               <tr><td>RoverController</td></tr>
                        </table>>

        ]

        edge [ arrowhead = "empty" ];
        RoverComm -> Comm;
        RoverDriver -> Driver;
        RoverSoilAnalyser -> SoilAnalyser;
        RoverCamera -> Camera;

        MoveTask -> Task;
        TurnTask -> Task;
        AnalyserTask -> Task;
        CameraTask -> Task;

        edge [ arrowhead = "odiamond" ];
        Task -> TaskList;
        RoverController -> TaskListManager;
        TaskList -> TaskListManager;

        edge [ arrowhead = "vee" ];
        MoveTask -> RoverDriver;
        TurnTask -> RoverDriver;
        AnalyserTask -> RoverSoilAnalyser;
        CameraTask -> RoverCamera;

        TaskParser -> MoveTask;
        TaskParser -> TurnTask;
        TaskParser -> AnalyserTask;
        TaskParser -> CameraTask;
        TaskParser -> ListExecuteTask;

        TaskParser -> RoverDriver;
        TaskParser -> RoverSoilAnalyser;
        TaskParser -> RoverCamera;
        TaskParser -> Task;

        TaskParser -> RoverController;

        RoverController -> RoverComm;

        RoverDriver -> RoverController;
        RoverSoilAnalyser -> RoverController;
        RoverCamera -> RoverController;

        ListExecuteTask -> TaskList;
}
